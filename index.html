<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pet Norman the Aussie</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Prevent accidental zooming on mobile taps */
        button, #interaction-area {
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
        }

        /* Accurate Aussie Butt Wiggle: Front stays mostly still, back moves */
        @keyframes buttWiggle {
            0%, 100% { transform: rotate(0deg) translateX(0); }
            25% { transform: rotate(-5deg) translateX(-8px); }
            75% { transform: rotate(5deg) translateX(8px); }
        }
        .wiggling-butt {
            animation: buttWiggle 0.12s infinite ease-in-out;
            transform-origin: 50% 40%;
        }
        
        .heart {
            position: absolute;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            font-size: 24px;
            z-index: 50;
        }
        @keyframes floatUp {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-100px) scale(1.5); opacity: 0; }
        }
        
        /* Cursor for desktop, hidden on touch */
        @media (pointer: fine) {
            .cursor-pet {
                cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="%23fac" stroke="white" stroke-width="2"><path d="M7 11V7a5 5 0 0 1 10 0v4"/><rect x="5" y="11" width="14" height="10" rx="2"/></svg>'), auto;
            }
        }
    </style>
</head>
<body class="bg-stone-100 min-h-screen flex flex-col items-center justify-center font-sans p-4 overflow-hidden">

    <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl p-6 text-center relative overflow-hidden border-b-8 border-amber-600">
        <h1 class="text-2xl md:text-3xl font-bold text-stone-800 mb-1">Norman</h1>
        <p class="text-stone-500 mb-4 md:mb-6 font-medium text-sm">The Wiggle-Butt Aussie</p>

        <!-- Game Area -->
        <div id="game-container" class="relative bg-stone-50 rounded-2xl p-2 md:p-4 mb-6 flex flex-col items-center justify-center transition-all duration-300 border border-stone-200 aspect-square md:aspect-auto">
            
            <!-- Norman SVG Illustration (Organic Shapes) -->
            <svg id="norman-svg" class="w-full h-auto max-h-[300px] transition-transform duration-200" viewBox="0 0 240 200">
                <defs>
                    <filter id="furry">
                        <feTurbulence type="fractalNoise" baseFrequency="0.5" numOctaves="3" result="noise" />
                        <feDisplacementMap in="SourceGraphic" in2="noise" scale="2" />
                    </filter>
                    
                    <pattern id="merlePattern" x="0" y="0" width="60" height="60" patternUnits="userSpaceOnUse">
                        <path d="M10,10 Q25,5 35,20 T50,10 Q60,30 40,50 T10,40 Z" fill="#a0785a" opacity="0.3" />
                        <path d="M30,40 Q45,35 55,50 T30,60 Z" fill="#8c644d" opacity="0.2" />
                    </pattern>
                </defs>

                <!-- THE WIGGLE GROUP -->
                <g id="butt-group" filter="url(#furry)">
                    <path d="M40,170 Q20,160 30,130 Q40,100 100,100 Q160,100 210,130 Q230,160 200,180 Q120,195 40,170" fill="#d4a373" />
                    <path d="M40,170 Q20,160 30,130 Q40,100 100,100 Q160,100 210,130 Q230,160 200,180 Q120,195 40,170" fill="url(#merlePattern)" />
                </g>

                <!-- STATIONARY FRONT GROUP -->
                <g id="front-group">
                    <path d="M50,165 Q35,195 65,195 Q85,195 75,170" fill="#e9e5d9" filter="url(#furry)" />
                    <path d="M160,170 Q150,195 180,195 Q205,195 195,170" fill="#e9e5d9" filter="url(#furry)" />
                    <path d="M70,110 Q120,175 170,110 Q120,125 70,110" fill="white" filter="url(#furry)" />
                    <path d="M80,45 Q70,80 85,110 Q100,125 120,125 Q145,125 155,110 Q175,80 160,45 Q120,30 80,45" fill="#d4a373" filter="url(#furry)" />
                    <path d="M80,45 Q70,80 85,110 Q100,125 120,125 Q145,125 155,110 Q175,80 160,45 Q120,30 80,45" fill="url(#merlePattern)" filter="url(#furry)" />
                    <path d="M120,38 Q138,75 120,120 Q102,75 120,38" fill="white" filter="url(#furry)" />
                    <path d="M100,95 Q100,125 120,125 Q140,125 140,95 Q140,85 120,85 Q100,85 100,95" fill="white" filter="url(#furry)" />
                    <path d="M82,55 Q60,35 70,85" fill="#b5835a" filter="url(#furry)" />
                    <path d="M158,55 Q180,35 170,85" fill="#b5835a" filter="url(#furry)" />
                    
                    <g>
                        <path d="M92,82 Q100,75 108,82 Q100,89 92,82" fill="white" />
                        <circle id="left-eye" cx="100" cy="82" r="5" fill="#9cdcf0" />
                        <circle cx="98" cy="80" r="1.5" fill="white" />
                    </g>
                    <g>
                        <path d="M132,82 Q140,75 148,82 Q140,89 132,82" fill="white" />
                        <circle id="right-eye" cx="140" cy="82" r="5" fill="#5c3a21" />
                        <circle cx="138" cy="80" r="1.5" fill="white" />
                    </g>
                    
                    <path d="M112,108 Q120,118 128,108 Q132,104 120,104 Q108,104 112,108" fill="#5c3a21" />
                    <path d="M122,106 Q126,106 126,110 Q122,112 122,108 Z" fill="#ffb7b2" opacity="0.9" />
                    <path id="tongue" d="M115,120 Q120,142 125,120 Z" fill="#ff85a1" class="hidden" />
                </g>
            </svg>

            <!-- Interaction Overlay (Touch/Mouse) -->
            <div id="interaction-area" class="absolute inset-0 cursor-pet"></div>
        </div>

        <!-- UI Controls -->
        <div class="grid grid-cols-2 gap-3 md:gap-4">
            <button id="pet-btn" class="bg-stone-800 hover:bg-black text-white font-bold py-3 md:py-4 px-2 rounded-2xl shadow-lg transition-all active:scale-90 flex flex-col items-center gap-1">
                <span class="text-lg md:text-xl">âœ‹</span>
                <span class="text-[10px] md:text-xs uppercase tracking-widest">Pet Norman</span>
            </button>
            <button id="treat-btn" class="bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 md:py-4 px-2 rounded-2xl shadow-lg transition-all active:scale-90 flex flex-col items-center gap-1">
                <span class="text-lg md:text-xl">ðŸ¦´</span>
                <span class="text-[10px] md:text-xs uppercase tracking-widest">Give Treat</span>
            </button>
        </div>

        <!-- Stats -->
        <div class="mt-6 md:mt-8 pt-4 md:pt-6 border-t border-stone-100 flex justify-between px-2">
            <div class="text-left">
                <p class="text-[9px] md:text-[10px] uppercase tracking-tighter text-stone-400 font-bold">Mood</p>
                <p class="text-base md:text-lg font-black text-stone-800" id="mood-label">Waiting...</p>
            </div>
            <div class="text-right">
                <p class="text-[9px] md:text-[10px] uppercase tracking-tighter text-stone-400 font-bold">Happiness</p>
                <p class="text-base md:text-lg font-black text-amber-500" id="happy-score">0</p>
            </div>
        </div>
        
        <div id="message" class="mt-4 text-stone-400 text-[11px] md:text-sm italic h-5">Tap Norman to see him wiggle!</div>
    </div>

    <script>
        const norman = document.getElementById('norman-svg');
        const buttGroup = document.getElementById('butt-group');
        const tongue = document.getElementById('tongue');
        const happyDisplay = document.getElementById('happy-score');
        const moodLabel = document.getElementById('mood-label');
        const message = document.getElementById('message');
        const petBtn = document.getElementById('pet-btn');
        const treatBtn = document.getElementById('treat-btn');
        const interactionArea = document.getElementById('interaction-area');
        const gameContainer = document.getElementById('game-container');

        let happiness = 0;
        let isProcessing = false;

        function updateMood() {
            happyDisplay.textContent = happiness;
            if (happiness >= 100) moodLabel.textContent = "Bestest of Friends";
            else if (happiness >= 25) moodLabel.textContent = "Best Friends!";
            else if (happiness >= 10) moodLabel.textContent = "Excited!";
            else if (happiness > 0) moodLabel.textContent = "Happy!";
            else moodLabel.textContent = "Waiting...";
        }

        function createHeart(x, y) {
            const heart = document.createElement('div');
            heart.innerHTML = 'â¤ï¸';
            heart.className = 'heart';
            
            const rect = gameContainer.getBoundingClientRect();
            const posX = x !== undefined ? x : (Math.random() * (rect.width * 0.8) + (rect.width * 0.1));
            const posY = y !== undefined ? y : (Math.random() * (rect.height * 0.4) + (rect.height * 0.2));
            
            heart.style.left = posX + 'px';
            heart.style.top = posY + 'px';
            gameContainer.appendChild(heart);
            setTimeout(() => heart.remove(), 1000);
        }

        function triggerHappy(type) {
            if (isProcessing) return;
            isProcessing = true;
            
            happiness += (type === 'treat' ? 5 : 1);
            updateMood();
            
            buttGroup.classList.add('wiggling-butt');
            tongue.classList.remove('hidden');
            
            const count = type === 'treat' ? 6 : 3;
            for(let i=0; i<count; i++) {
                setTimeout(() => createHeart(), i * 150);
            }

            setTimeout(() => {
                buttGroup.classList.remove('wiggling-butt');
                tongue.classList.add('hidden');
                isProcessing = false;
            }, 1200);
        }

        const handlePet = (e) => {
            if (e) {
                if (e.cancelable) e.preventDefault();
                const rect = gameContainer.getBoundingClientRect();
                const touch = e.touches ? e.touches[0] : e;
                createHeart(touch.clientX - rect.left, touch.clientY - rect.top);
            }
            message.textContent = "Wiggle-butt activated!";
            triggerHappy('pet');
        };

        petBtn.addEventListener('click', () => handlePet());
        
        treatBtn.addEventListener('click', (e) => {
            message.textContent = "Norman catches it! Maximum wiggle!";
            triggerHappy('treat');
        });
        
        interactionArea.addEventListener('mousedown', handlePet);
        interactionArea.addEventListener('touchstart', handlePet, {passive: false});

    </script>
</body>
</html>